{% extends "base.html" %}

{% block seo_meta %}
<meta name="description" content="Generate engaging YouTube video scripts with AI. Create viral content, hooks, and storylines that captivate your audience. Professional script writing made easy with Creatrics AI.">
<meta name="keywords" content="AI video script generator, YouTube script writer, viral video scripts, content creation AI, script writing tool">
{% endblock %}

{% block title %}AI Video Script Generator - Create Viral YouTube Scripts | Creatrics{% endblock %}

{% block additional_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/video_script.css') }}">
{% endblock %}

{% block content %}
<div class="content-panel">
    <div class="generator-wrapper">
        <!-- Header -->
        <div class="generator-header">
            <h1 class="generator-title">
                <i class="ph ph-scroll"></i>
                Video Script Generator
            </h1>
        </div>

        <!-- Content Area -->
        <div class="generator-content">
            <div class="editor-grid">
                <!-- Left Panel - Input -->
                <div class="input-section">
                    <div class="input-panel">
                        <!-- Options Grid -->
                        <div class="options-grid">
                            <!-- Video Length -->
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="ph ph-video"></i>
                                    Video Length
                                </label>
                                <div class="toggle-group">
                                    <button class="toggle-btn active" onclick="setVideoType('long')" id="longVideoBtn">
                                        <i class="ph ph-film-script"></i>
                                        Long Form
                                    </button>
                                    <button class="toggle-btn" onclick="setVideoType('short')" id="shortVideoBtn">
                                        <i class="ph ph-device-mobile"></i>
                                        Shorts
                                    </button>
                                </div>

                                <!-- Target Duration Option -->
                                <div class="target-duration-container">
                                    <input type="checkbox" id="targetDurationCheckbox" class="target-duration-checkbox" onchange="toggleTargetDuration()">
                                    <label for="targetDurationCheckbox" class="target-duration-label">
                                        Set target duration
                                    </label>
                                </div>

                                <!-- Duration Slider (hidden by default) -->
                                <div class="duration-slider-wrapper" id="durationWrapper">
                                    <div class="duration-slider-container">
                                        <div class="slider-wrapper">
                                            <input type="range"
                                                   class="duration-slider"
                                                   id="durationSlider"
                                                   min="1"
                                                   max="20"
                                                   value="10"
                                                   oninput="updateDuration(this.value)">
                                        </div>
                                        <div class="duration-display">
                                            <span class="duration-value" id="durationValue">10 minutes</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Script Format -->
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="ph ph-file-text"></i>
                                    Script Format
                                </label>
                                <div class="toggle-group">
                                    <button class="toggle-btn active" onclick="setScriptFormat('full')" id="fullScriptBtn">
                                        <i class="ph ph-align-left"></i>
                                        Full Script
                                    </button>
                                    <button class="toggle-btn" onclick="setScriptFormat('bullet')" id="bulletPointsBtn">
                                        <i class="ph ph-list-bullets"></i>
                                        Bullet Points
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Video Concept Input -->
                        <div class="form-group">
                            <label class="form-label">
                                <i class="ph ph-article"></i>
                                Video Concept
                            </label>
                            <textarea class="input-textarea"
                                      id="conceptInput"
                                      placeholder="Describe your video idea, main topic, key points you want to cover, target audience, and any specific style or tone you prefer..."
                                      maxlength="5000"
                                      onkeyup="updateCharCount()"></textarea>
                            <div class="char-count" id="charCount">0 / 5000</div>
                        </div>

                        <!-- Generate Button -->
                        <button class="generate-btn" onclick="generateScript()" id="generateBtn">
                            <i class="ph ph-magic-wand"></i>
                            Generate Script
                        </button>
                    </div>

                    <!-- Saved Scripts Section -->
                    <div class="saved-scripts-section" id="savedScriptsSection">
                        <div class="saved-scripts-header">
                            <h3 class="saved-scripts-title">
                                <i class="ph ph-folder-open"></i>
                                Saved Scripts
                            </h3>
                            <button class="toggle-saved-btn" onclick="toggleSavedScripts()">
                                <i class="ph ph-caret-up"></i>
                            </button>
                        </div>
                        <div class="saved-scripts-search" id="savedScriptsSearch" style="display: none;">
                            <input type="text" id="scriptSearchInput" class="script-search" placeholder="Search saved scripts..." onkeyup="searchScripts()">
                        </div>
                        <div class="saved-scripts-list" id="savedScriptsGrid" style="display: none;">
                            <!-- Saved scripts will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Right Panel - Results -->
                <div class="output-section">
                    <div class="results-panel">
                        <div id="resultsContainer">
                            <!-- Empty State -->
                            <div class="empty-results">
                                <i class="ph ph-scroll empty-icon"></i>
                                <div class="empty-title">Ready to Create</div>
                                <div class="empty-text">Your AI-generated script will appear here once you provide your video concept</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Save Script Modal -->
<div class="modal-overlay" id="saveScriptModal">
    <div class="save-script-modal">
        <div class="modal-header">
            <h3 class="modal-title">
                <i class="ph ph-floppy-disk"></i>
                Save Your Script
            </h3>
        </div>
        <div class="modal-body">
            <div class="modal-field">
                <label class="modal-label">Script Title</label>
                <input type="text"
                       id="scriptTitleInput"
                       class="modal-input"
                       placeholder="Enter a descriptive title for your script"
                       maxlength="100">
            </div>
            <div class="modal-field">
                <label class="modal-label">Description (Optional)</label>
                <input type="text"
                       id="scriptDescriptionInput"
                       class="modal-input"
                       placeholder="Add notes about this script"
                       maxlength="200">
            </div>
        </div>
        <div class="modal-footer">
            <button class="modal-btn modal-btn-cancel" onclick="closeSaveModal()">
                <i class="ph ph-x"></i>
                Cancel
            </button>
            <button class="modal-btn modal-btn-save" onclick="saveScript()" id="modalSaveBtn">
                <i class="ph ph-floppy-disk"></i>
                Save Script
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='scripts/video_script.js') }}"></script>
{% endblock %}
