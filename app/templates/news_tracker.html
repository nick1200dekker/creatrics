{% extends "base.html" %}

{% block title %}News Tracker - Creatrics{% endblock %}

{% block additional_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/news_tracker.css') }}">
{% endblock %}

{% block content %}
<div class="news-tracker-wrapper">
    <!-- Header -->
    <div class="news-tracker-header">
        <h1 class="news-tracker-title">
            <i class="ph ph-newspaper"></i>
            News Tracker
        </h1>
    </div>

    <!-- Main Content -->
    <div class="news-tracker-content">
        <!-- Main Panel -->
        <div class="main-panel">
            <div class="panel-header">
                <div class="panel-title-section">
                    <h2 class="panel-title">
                        <i class="ph ph-rss"></i>
                        News Feed
                    </h2>
                </div>
                <div class="panel-controls">
                    <div class="dropdown">
                        <button class="dropdown-trigger" id="feedDropdown">
                            <span id="selectedFeed">BBC News</span>
                            <i class="ph ph-caret-down dropdown-arrow"></i>
                        </button>
                        <div class="dropdown-menu" id="feedMenu">
                            <div class="dropdown-option selected" data-feed="https://feeds.bbci.co.uk/news/rss.xml" data-name="BBC News">
                                <i class="ph ph-check"></i>
                                <span>BBC News</span>
                            </div>
                            <div class="dropdown-option" data-feed="http://rss.cnn.com/rss/edition.rss" data-name="CNN">
                                <i class="ph ph-check"></i>
                                <span>CNN</span>
                            </div>
                            <div class="dropdown-option" data-feed="https://www.wired.com/feed/rss" data-name="Wired">
                                <i class="ph ph-check"></i>
                                <span>Wired</span>
                            </div>
                            <div class="dropdown-option" data-feed="https://www.forbes.com/business/feed/" data-name="Forbes Business">
                                <i class="ph ph-check"></i>
                                <span>Forbes Business</span>
                            </div>
                        </div>
                    </div>
                    <button class="primary-btn" id="fetchNewsBtn">
                        <i class="ph ph-arrows-clockwise"></i>
                        Fetch News
                    </button>
                </div>
            </div>

            <!-- News List -->
            <div class="panel-content" id="newsContent">
                <!-- Loading State -->
                <div class="progress-section" id="loadingState" style="display: none;">
                    <div class="progress-card">
                        <div class="progress-header">
                            <div class="progress-icon">
                                <i class="ph ph-newspaper"></i>
                            </div>
                            <h3 class="progress-title">Fetching Latest News</h3>
                            <p class="progress-subtitle">Loading fresh stories...</p>
                        </div>
                    </div>
                </div>

                <!-- Empty State -->
                <div class="empty-state" id="emptyState">
                    <i class="ph ph-newspaper empty-icon"></i>
                    <h3 class="empty-title">No news loaded yet</h3>
                    <p class="empty-text">Select a news feed and click "Fetch News" to get started</p>
                </div>

                <!-- News Items Container -->
                <div class="news-list" id="newsList" style="display: none;"></div>
            </div>
        </div>
    </div>
</div>


{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/news_tracker.js') }}"></script>
<script>
    // Initialize News Tracker when DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
        NewsTracker.init();
    });
</script>
{% endblock %}
