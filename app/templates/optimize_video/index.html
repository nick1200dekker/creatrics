{% extends "base.html" %}

{% block title %}Optimize Video - AI-Powered YouTube Optimization | Creatrics{% endblock %}

{% block seo_meta %}
<meta name="description" content="Optimize your YouTube videos with AI. Get recommendations for titles, descriptions, tags, and thumbnails to improve performance.">
<meta name="keywords" content="YouTube optimization, video SEO, title optimization, description generator, tags generator, thumbnail analysis">
{% endblock %}

{% block additional_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/optimize_video.css') }}">
{% endblock %}

{% block content %}
<div class="content-panel">
    <div class="optimize-video-wrapper">
        <!-- Header -->
        <div class="optimize-header">
            <h1 class="optimize-title">
                <i class="ph ph-magic-wand"></i>
                Optimize Video
            </h1>
        </div>

        <!-- Content Area -->
        <div class="optimize-content">
            <!-- My Videos Section -->
            <div class="my-videos-section">
                <div class="section-header">
                    <h3 class="section-title">
                        <i class="ph ph-video"></i>
                        My Videos
                    </h3>
                    <button onclick="loadMyVideos()" class="secondary-button">
                        <i class="ph ph-arrows-clockwise"></i>
                        <span>Refresh</span>
                    </button>
                </div>
                <div id="myVideosGrid" class="videos-grid">
                    <!-- Videos will be populated here -->
                </div>
                <div id="emptyVideos" class="empty-state">
                    <i class="ph ph-video"></i>
                    <p>Connect your YouTube channel to see your videos</p>
                    <span>Go to Account Settings to connect</span>
                </div>
            </div>

            <!-- Optimization History -->
            <div class="history-section">
                <h3 class="section-title">
                    <i class="ph ph-clock-counter-clockwise"></i>
                    Recent Optimizations
                </h3>
                <div id="historyGrid" class="history-grid">
                    <!-- History will be populated here -->
                </div>
                <div id="emptyHistory" class="empty-state" style="display: none;">
                    <i class="ph ph-magic-wand"></i>
                    <p>No optimizations yet</p>
                    <span>Start by optimizing a video above</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Loading Modal -->
<div id="loadingModal" class="modal" style="display: none;">
    <div class="modal-content loading-content">
        <div class="loading-spinner">
            <i class="ph ph-spinner spin"></i>
        </div>
        <p>Analyzing and optimizing your video...</p>
        <span>This may take a moment</span>
    </div>
</div>

<!-- Optimization Results Modal -->
<div id="resultsModal" class="modal" style="display: none;">
    <div class="modal-content results-content">
        <div class="modal-header">
            <h2><i class="ph ph-check-circle"></i> Optimization Complete</h2>
            <button onclick="closeResultsModal()" class="close-btn">
                <i class="ph ph-x"></i>
            </button>
        </div>
        <div id="resultsBody" class="modal-body">
            <!-- Results will be populated here -->
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='scripts/optimize_video.js') }}"></script>
{% endblock %}
